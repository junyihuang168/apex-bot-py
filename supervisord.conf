[supervisord]
nodaemon=true
logfile=/dev/null
pidfile=/tmp/supervisord.pid

[program:web]
; Web 服务模块：默认使用 app.py (module "app")
; 如果你仓库里不是 app.py，而是别的文件名（例如 app_any_amount_v2.py），
; 你可以把下面这一行改成对应的 <module>:app。
command=gunicorn -w 2 -k gthread -t 120 -b 0.0.0.0:%(ENV_PORT)s app:app
autostart=true
autorestart=true
stderr_logfile=/dev/stderr
stdout_logfile=/dev/stdout

[program:worker]
command=python worker.py
autostart=true
autorestart=true
stderr_logfile=/dev/stderr
stdout_logfile=/dev/stdout
